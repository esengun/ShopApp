@*@page
@model ShopApp.WebUI.Views.Admin.ProductListModel
@{
}*@

@model ProductListViewModel

<div class="row">
	<div class="col md-12">
		<h1 class="h3">Admin Products</h1>
		<hr />
		<a asp-controller="admin" asp-action="createproduct" class="btn btn-primary btn-sm mb-3">Add Product</a>
		
		<table class="table table-bordered">
			<thead>
				<tr>
					<td style="width: 30px">Id</td>
					<td style="width: 100px">Image</td>
					<td>Name</td>
					<td style="width: 20px">Price</td>
					<td style="width: 20px">HomePage</td>
					<td style="width: 20px">Approved</td>
					<td style="width: 150px"></td>
				</tr>
			</thead>
			<tbody>
				@if(Model.Products.Count() > 0)
				{
					@foreach (var item in Model.Products)
					{
						<tr>
							<td>@item.ProductId</td>
							<td><img src="~/images/@item.ImageUrl" width="80"></td>
							<td>@item.Name</td>
							<td>@item.Price</td>
							<td>
								@if (item.IsHome)
								{
									<i class="fas fa-check-circle"></i>
								}
								else
								{
									<i class="fas fa-times-circle"></i>
								}
							</td>
							<td>
								@if (item.IsApproved)
								{
									<i class="fas fa-check-circle"></i>
								}
								else
								{
									<i class="fas fa-times-circle"></i>
								}
							</td>
							<td>
								<a asp-controller="Admin" asp-action="EditProduct" asp-route-id="@item.ProductId" class="btn btn-primary btn-sm mr-2">Edit</a>
								<a asp-controller="Admin" asp-action="DeleteProduct" asp-route-id="@item.ProductId" class="btn btn-danger btn-sm">Delete</a>
							</td>
						</tr>
					}
				}
				else
				{
					<div class="alert alert-warning">
						<h3>No Products!</h3>
					</div>
				}
			</tbody>
		</table>
	</div>
</div>
